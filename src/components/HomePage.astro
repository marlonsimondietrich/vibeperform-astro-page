---
import Button from './Button.astro';
import NavBar from './NavBar.astro';
import RotatingHeadline from './RotatingHeadline.astro';
import type { HomeContent } from '../data/homeContent';

interface Props {
	content: HomeContent;
	currentLocale: string;
	alternateLocaleHref: string;
}

const { content, currentLocale, alternateLocaleHref } = Astro.props as Props;
const { nav, hero, features } = content;
const basePath = '/vibeperform-astro-page';
const homeHref = currentLocale === 'de' ? `${basePath}/de/` : `${basePath}/`;
---

<div class="flex min-h-screen flex-col bg-white">
	<NavBar nav={nav} homeHref={homeHref} alternateLocaleHref={alternateLocaleHref} />
	<main class="flex flex-1 flex-col gap-y-24 pb-20">
		<section id="about-us" class="section-spacing">
			<div class="container-responsive grid gap-12 md:grid-cols-[minmax(0,1fr)] md:items-center lg:grid-cols-[1.2fr,0.8fr]">
				<div class="mx-auto flex w-full max-w-2xl flex-col items-center gap-6 text-center md:items-start md:text-left">
					<p class="text-xs font-semibold uppercase tracking-[0.35em] text-slate-500 sm:text-sm">
						{hero.kicker}
					</p>
					<h1 class="text-4xl font-semibold tracking-tight text-slate-900 sm:text-5xl lg:text-6xl">
						<RotatingHeadline prefix={hero.title} words={hero.rotatingWords} />
					</h1>
					<p class="text-base text-slate-600 sm:text-lg md:text-xl">{hero.subtitle}</p>
					<div class="flex w-full flex-col items-center gap-3 pt-4 sm:flex-row sm:justify-start">
						<Button>{hero.primaryCta}</Button>
						{hero.secondaryHref && hero.secondaryCta ? (
							<a
								class="inline-flex min-h-[2.75rem] w-full items-center justify-center rounded-full border border-transparent px-4 text-sm font-semibold text-slate-700 hover:text-slate-900 sm:w-auto"
								href={hero.secondaryHref}
							>
								{hero.secondaryCta}
							</a>
						) : null}
					</div>
				</div>
				{hero.callouts && hero.callouts.length ? (
					<div class="mx-auto flex w-full max-w-xl items-center justify-center rounded-3xl bg-gradient-to-br from-purple-50 via-white to-slate-100 p-10 shadow-sm sm:p-12">
						<div class="grid w-full grid-cols-2 gap-4 text-center text-sm font-semibold text-slate-700">
							{hero.callouts.map((callout) => (
								<div class="rounded-2xl border border-purple-100 bg-white p-4 shadow-sm">
									<p class="text-xs uppercase tracking-[0.3em] text-purple-500">{callout.label}</p>
									<p class="mt-2 text-lg font-semibold text-slate-900">{callout.description}</p>
								</div>
							))}
						</div>
					</div>
				) : null}
			</div>
		</section>

		<section id="workshops" class="section-spacing bg-slate-50">
			<div class="container-responsive space-y-10">
				<div class="space-y-4 text-center md:text-left">
					<p class="text-xs font-semibold uppercase tracking-[0.35em] text-slate-500">
						{features.kicker ?? 'Our Approach'}
					</p>
					<h2 class="text-3xl font-semibold text-slate-900 sm:text-4xl">{features.heading}</h2>
					{features.subheading ? (
						<p class="mx-auto max-w-2xl text-sm text-slate-600 sm:text-base">{features.subheading}</p>
					) : null}
				</div>
				<div class="grid-responsive sm:grid-cols-2 xl:grid-cols-3">
					{features.items.map((item) => (
						<article class="flex h-full flex-col justify-between rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition hover:-translate-y-1 hover:shadow-lg sm:p-8">
							<div class="space-y-4">
								<h3 class="text-xl font-semibold text-slate-900">{item.title}</h3>
								<ul class="space-y-2 text-sm text-slate-600 sm:text-base">
									{item.description.map((paragraph) => (
										<li>{paragraph}</li>
									))}
								</ul>
							</div>
							<div class="mt-6 text-sm font-semibold uppercase tracking-[0.3em] text-purple-500">
								{currentLocale === 'de' ? 'Jetzt entdecken' : 'Learn more'}
							</div>
						</article>
					))}
				</div>
			</div>
		</section>
	</main>
</div>
