---
import { landingHighlightsContent, type LandingLocale } from "../data/landingHighlights";

interface Props {
  locale: LandingLocale;
}

const { locale } = Astro.props as Props;
const currentLocale: LandingLocale = locale === "de" ? "de" : "en";
const t = landingHighlightsContent[currentLocale];
---

<section class="section-spacing bg-slate-50">
  <div class="container-responsive space-y-8">
    <div class="space-y-3 text-center">
      <p class="text-xs font-semibold uppercase tracking-[0.35em] text-slate-500">
        Use Cases
      </p>
      <h2
        id="landing-applications-heading"
        class="text-3xl font-semibold text-slate-900 sm:text-4xl"
      >
        {t.applications.heading}
      </h2>
      <p class="mx-auto max-w-3xl text-sm text-slate-600 sm:text-base">
        {t.applications.description}
      </p>
    </div>
    <div class="space-y-6">
      {t.applications.cards.map((card, index) => {
        const isImageRight = index % 2 === 0 ? true : false;
        const layoutClass = isImageRight ? "md:flex-row" : "md:flex-row-reverse";
        const imageRotateClass = isImageRight ? "md:rotate-3" : "md:-rotate-3";
        return (
          <article class={`flex flex-col gap-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md md:items-stretch md:p-8 ${layoutClass}`}>
            <div class="space-y-4 md:flex-1">
              <header class="space-y-2">
                <p class="text-xs font-semibold uppercase tracking-[0.35em] text-purple-500">
                  {locale === "de" ? "Use Case" : "Use case"}
                </p>
                <h3 class="text-2xl font-semibold text-slate-900 sm:text-3xl">{card.title}</h3>
              </header>
              {card.description ? (
                <p class="text-base text-slate-600 sm:text-lg">
                  {card.description}{" "}
                  {card.highlight ? (
                    <span class="text-slate-900">{card.highlight}</span>
                  ) : null}
                </p>
              ) : null}
              {card.examples ? (
                <div class="space-y-3 text-sm text-slate-600 sm:text-base">
                  <p class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-500">
                    {locale === "de" ? "Beispiele" : "Examples"}
                  </p>
                  <ul class="space-y-3">
                    {card.examples.map((example) => {
                      const [title, ...rest] = example.split(":");
                      const description = rest.join(":").trim();
                      return (
                        <li class="flex gap-3 rounded-2xl bg-slate-50 p-3 text-slate-700 shadow-inner">
                          <span class="mt-1 h-2 w-2 flex-shrink-0 rounded-full bg-purple-400" />
                          <span>
                            <strong class="font-semibold text-slate-900">{title}</strong>
                            {description ? `: ${description}` : ""}
                          </span>
                        </li>
                      );
                    })}
                  </ul>
                </div>
              ) : null}
            </div>
            <div class="relative overflow-hidden rounded-3xl bg-purple-50 p-4 sm:p-6 md:flex md:w-2/5 md:items-center md:justify-center">
              {card.imageSrc ? (
                <img
                  src={card.imageSrc}
                  alt={card.imageAlt ?? card.title}
                  class={`max-h-80 w-full origin-center rounded-2xl object-contain shadow-md md:max-h-[22rem] ${imageRotateClass}`}
                  loading="lazy"
                />
              ) : (
                <div class="flex h-full items-center justify-center text-purple-200">
                  <span class="text-sm">{locale === "de" ? "Visual folgt" : "Visual coming soon"}</span>
                </div>
              )}
            </div>
          </article>
        );
      })}
    </div>
  </div>
</section>
